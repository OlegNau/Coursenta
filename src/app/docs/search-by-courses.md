# Поиск по названию, описанию и дате

## Требования и дизайн

[Макет](https://www.figma.com/file/BSrK8OCCrLWEnLfpB3zEE8/Courses-mockups-(Copy)?type=design&node-id=0-1&mode=design&t=PVzdMwexZuIrQagO-0)

- Поиск происходит по клавише Enter или при нажатии на кнопку "Search" справа от поля ввода поискового значения
- Начинаем поиск с 3х символов - если меньше, то подсвечиваем поле красным.
- Поиск происходит по вхождению без учета регистра
- В списке курсов отображаются только те, которые соответсвуют поисковому значению
- Если ничего не найдено выводим заглушку
- при загрузке курсов висит лоадер


### Правила отображения поиска на странице 

- Поиск не активен, если не был добавлен ни один курс

### Реализация

1. Загрузка списка курсов с использованием NgRX
- создать поток со списком курсов, который отдает список с задержкой 5000
- инициализация загрузки осуществляется посредством выброса экшена load, который отлавливает loadReducer меняя в сторе значение  loading  на true и сбросит список курсов до пустого массива
- после редбюсера экшен отлавливает эффект loadCourses$, который делает запрос на бэк за списком курсов и далее выбрасывает один из двух экшенов loadSuccess или loadFail
- loadSuccess отлавливает loadSuccessReducer, который формирует список курсов и вносит его в Store
- loadFail отлавливает loadFailReducer, который вносит в стор информацию об ошибке
- Создать селекторы searchPattern, loading, loadingError, coursesCards
- реализовать простой лоадер при загрузке списка
2. Верстка
- Добавить верстку ошибки и подсказку
- Поле поиска по умолчанию  пустрое в расфокусе.
- Максимальное число вводимых символов 15.
3. Обработка активного состояния поиска:
- Поле поиска необходимо связать с FormControl.
4. Привязать поиск к стору.
- Добавить метод, который при нажатии на клавишу enter и кнопку Search, сетит текущую строку поиска в стор.
- Написать action, reducer, effects и тесты к ним.
- action setSearchPattern содержит введенное поисковое значение обрабатыается редьюсером
- setSearchPatternReducer ловит экшен и меняет значение поля filter в Store
- эффект changeSearchParams$ ловит экшен setSearchPattern и инициализирует отправку нового экшена загрузки списка курсов load
- эффект loadCourses$ ловит экшен load, и отправляет запрос на получение списка курсов с учетом текущих значений в Store
5. Реализовать валидатор, который:
- Невалиден, если введено 1 или 2 символа.
- Валиден, если введено 0 или 3 и более символов.
- Написать тесты.
6. Валидация поле поиска:
- Добавить в FormContol валидатор из пункта 5.
- Валидатор устанавливать в методе при нажатии на клавишу enter и кнопку Search.
7. Обработка поля поиска:
- Если поле невалидно, ничего не делаем.
- Если поле валидное и в него ничего не вводилось, то запрос на поиск не отправляем.
- Если поле валидное и в него что-то водилось (при расфокусе неважно является поле пустым или нет) и нажата клавиша enter и кнопка Search, отправляем запрос на загрузку списка курсов.
8. Добавить заглушку "No data", если ничего не нашлось в результате поиска.

### Разбивка на задачи:
1. Реализовать получение списка курсов с использованием STORE
2. Верстка полей ошибок и подсказок + обработка активного состояния
3. Верстка заглушки
4. Привязка к стору
5. Написание валидатора и привязка к полю поиска